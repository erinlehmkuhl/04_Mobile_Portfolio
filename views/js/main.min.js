function onScroll(){lastKnownScrollY=window.scrollY,requestTick()}function requestTick(){ticking||requestAnimationFrame(updatePositions),ticking=!0}function logAverageFrame(a){for(var b=a.length,c=0,d=b-1;d>b-11;d--)c+=a[d].duration;console.log("Average time to generate last 10 frames: "+c/10+"ms")}function updatePositions(){frame++,window.performance.mark("mark_start_frame");for(var a=lastKnownScrollY,b=document.getElementsByClassName("mover"),c=0;c<b.length;c++){var d=Math.sin(a/3e4+c%cols);b[c].style.transform="translateX("+500*d+"px)"}if(ticking=!1,window.performance.mark("mark_end_frame"),window.performance.measure("measure_frame_duration","mark_start_frame","mark_end_frame"),frame%10===0){var e=window.performance.getEntriesByName("measure_frame_duration");logAverageFrame(e)}}var canvasWidth=document.querySelector(".container").offsetWidth,canvasLeft=canvasWidth-canvasWidth/2;if(350>canvasWidth)var cols=3;else if(canvasWidth>450&&800>canvasWidth)var cols=5;else var cols=8;var lastKnownScrollY=4,ticking=!1;window.addEventListener("scroll",onScroll);for(var frame=0,s=256,multip=300,i=0;80>i;i++){var randNum=Math.floor(Math.random()*multip+canvasLeft),elem=document.createElement("img");elem.className="mover",elem.src="images/conformed/pizza.png",elem.style.height="100px",elem.style.width="73.333px",elem.style.top=Math.floor(i/cols)*s+"px",elem.style.left=randNum+"px",document.querySelector("#movingPizzas1").appendChild(elem),updatePositions()}