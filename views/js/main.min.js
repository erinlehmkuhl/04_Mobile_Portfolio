function onScroll(){lastKnownScrollY=window.scrollY,requestTick()}function requestTick(){ticking||requestAnimationFrame(updatePositions),ticking=!0}function updatePositions(a){for(var b=lastKnownScrollY,c=document.getElementsByClassName("mover"),d=0;d<c.length;d++){var e=Math.sin(b/3e4+d%5);c[d].style.transform="translateX("+320*e+"px)"}ticking=!1}var canvasWidth=document.querySelector("#movingPizzas1").offsetWidth;console.log(canvasWidth),350>canvasWidth?cols=2:canvasWidth>450&&800>canvasWidth?cols=3:cols=8;var lastKnownScrollY=4,canvasLeftEdge=document.querySelector(".container").offsetLeft,ticking=!1;window.addEventListener("scroll",onScroll),window.addEventListener("resize",function(){canvasLeftEdge=document.querySelector(".container").offsetLeft});for(var s=256,i=0;30>i;i++){var elem=document.createElement("img");elem.basicLeft=i%cols*s+canvasLeftEdge,elem.className="mover",elem.src="images/conformed/pizza.png",elem.style.height="100px",elem.style.width="73.333px",elem.style.top=Math.floor(i/cols)*s+"px",document.querySelector("#movingPizzas1").appendChild(elem),updatePositions()}